(function(t){function e(e){for(var o,i,r=e[0],u=e[1],s=e[2],d=0,b=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(b.length)b.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==c[u]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},c={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3bc0":function(t,e,n){"use strict";n("eb8a")},"3bdb":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(t,e,n,c,a,i){var r=Object(o["v"])("router-view");return Object(o["q"])(),Object(o["e"])(r,{key:t.$route.fullPath})}var a={name:"App",components:{}};n("bb57");a.render=c;var i=a,r=n("6c02"),u=Object(o["h"])("h1",null,"Notes.",-1);function s(t,e,n,c,a,i){var r=Object(o["v"])("AddNote"),s=Object(o["v"])("NotesList");return Object(o["q"])(),Object(o["e"])(o["a"],null,[u,Object(o["h"])(r),Object(o["h"])(s)],64)}var l=Object(o["h"])("button",null,"Сохранить",-1);function d(t,e,n,c,a,i){return Object(o["q"])(),Object(o["e"])("form",{onSubmit:e[2]||(e[2]=Object(o["D"])((function(){return c.createNote&&c.createNote.apply(c,arguments)}),["prevent"]))},[Object(o["C"])(Object(o["h"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.data=t}),type:"text",placeholder:"Добавьте заметку"},null,512),[[o["z"],c.data]]),l],32)}var b=n("5502"),j={setup:function(){var t=Object(b["b"])(),e=Object(o["t"])(""),n=function(){t.dispatch("Note/ajaxCreateNote",e.value)};return{data:e,createNote:n}}};n("92a1");j.render=d;var f=j,O={class:"notes-list-btns"},p={key:1,class:"notes-list-empty"};function h(t,e,n,c,a,i){var r=Object(o["v"])("router-link");return c.notes.length?(Object(o["q"])(),Object(o["e"])(o["b"],{key:0,name:"list-item",tag:"div",class:"notes-list"},{default:Object(o["B"])((function(){return[(Object(o["q"])(!0),Object(o["e"])(o["a"],null,Object(o["u"])(c.notes,(function(t){return Object(o["q"])(),Object(o["e"])("div",{class:"list-item",key:t._id},[t.edit_toggle?Object(o["C"])((Object(o["q"])(),Object(o["e"])("textarea",{key:1,"onUpdate:modelValue":function(e){return t.data=e}},null,8,["onUpdate:modelValue"])),[[o["z"],t.data]]):(Object(o["q"])(),Object(o["e"])(r,{key:0,to:{name:"Note",params:{id:t._id}}},{default:Object(o["B"])((function(){return[Object(o["g"])(Object(o["x"])(t.data),1)]})),_:2},1032,["to"])),Object(o["h"])("div",O,[t.edit_toggle?Object(o["f"])("",!0):(Object(o["q"])(),Object(o["e"])("button",{key:0,class:"notes-list-edit-btn",onClick:function(e){return c.switchEditMode(t)}},[Object(o["h"])("img",{src:c.edit_svg,width:"13",height:"13",alt:""},null,8,["src"])],8,["onClick"])),t.edit_toggle&&t.data?(Object(o["q"])(),Object(o["e"])("button",{key:1,class:"notes-list-save-btn",onClick:function(e){return c.editNote(t)}},[Object(o["h"])("img",{src:c.ok_svg,width:"13",height:"13",alt:""},null,8,["src"])],8,["onClick"])):Object(o["f"])("",!0),Object(o["h"])("button",{class:"notes-list-delete-btn",onClick:function(e){return c.deleteNote(t._id)}},[Object(o["h"])("img",{src:c.delete_svg,width:"13",height:"13",alt:""},null,8,["src"])],8,["onClick"])])])})),128))]})),_:1})):(Object(o["q"])(),Object(o["e"])("span",p," пока пусто... "))}var g=n("d739"),v=n.n(g),m=n("6582"),N=n.n(m),_=n("76a5"),k=n.n(_),y={name:"NotesList",setup:function(){var t=Object(b["b"])();t.dispatch("Note/ajaxGetNotes");var e=Object(o["t"])(t.getters["Note/allNotes"]),n=function(t){t.edit_toggle=!t.edit_toggle},c=function(e){t.dispatch("Note/ajaxUpdateNote",{id:e._id,data:e.data}),n(e)},a=function(e){t.dispatch("Note/ajaxDeleteNote",e)};return{notes:e,switchEditMode:n,editNote:c,deleteNote:a,delete_svg:v.a,edit_svg:N.a,ok_svg:k.a}}};n("5c72");y.render=h;var x=y,w={name:"Note",components:{AddNote:f,NotesList:x}};w.render=s;var q=w,C={class:"one-note"},M=Object(o["h"])("h2",null,"Note.",-1),P={class:"list-item"},U={key:0},S={key:2},E={key:3,class:"notes-list-btns"},B=Object(o["g"])("Главная");function D(t,e,n,c,a,i){var r=Object(o["v"])("router-link");return Object(o["q"])(),Object(o["e"])("div",C,[M,Object(o["h"])("h2",null,Object(o["x"])(c.id),1),Object(o["h"])("div",P,[c.note&&!c.note.edit_toggle?(Object(o["q"])(),Object(o["e"])("p",U,Object(o["x"])(c.note.data),1)):Object(o["f"])("",!0),c.note.edit_toggle?Object(o["C"])((Object(o["q"])(),Object(o["e"])("textarea",{key:1,"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.note.data=t})},null,512)),[[o["z"],c.note.data]]):Object(o["f"])("",!0),c.note?Object(o["f"])("",!0):(Object(o["q"])(),Object(o["e"])("span",S,"не найдено такой заметки, либо она удалена :(")),c.note?(Object(o["q"])(),Object(o["e"])("div",E,[c.note.edit_toggle?Object(o["f"])("",!0):(Object(o["q"])(),Object(o["e"])("button",{key:0,class:"notes-list-edit-btn",onClick:e[2]||(e[2]=function(t){return c.switchEditMode(c.note)})},[Object(o["h"])("img",{src:c.edit_svg,width:"13",height:"13",alt:""},null,8,["src"])])),c.note.edit_toggle&&c.note.data?(Object(o["q"])(),Object(o["e"])("button",{key:1,class:"notes-list-save-btn",onClick:e[3]||(e[3]=function(t){return c.editNote(c.note)})},[Object(o["h"])("img",{src:c.ok_svg,width:"13",height:"13",alt:""},null,8,["src"])])):Object(o["f"])("",!0),Object(o["h"])("button",{class:"notes-list-delete-btn",onClick:e[4]||(e[4]=function(t){return c.deleteNote(c.note._id)})},[Object(o["h"])("img",{src:c.delete_svg,width:"13",height:"13",alt:""},null,8,["src"])])])):Object(o["f"])("",!0)]),Object(o["h"])(r,{class:"back-to-home-btn",to:{name:"Home"}},{default:Object(o["B"])((function(){return[B]})),_:1})])}n("4de4");var L={name:"Note",setup:function(){var t=Object(r["c"])(),e=Object(b["b"])(),n=Object(o["t"])(t.params.id),c=e.getters["Note/allNotes"],a=c.filter((function(t){return t._id==n.value})),i=Object(o["t"])(a.length?a[0]:""),u=function(t){t.edit_toggle=!t.edit_toggle},s=function(t){e.dispatch("Note/ajaxUpdateNote",{id:t._id,data:t.data}),u(t)},l=function(t){e.dispatch("Note/ajaxDeleteNote",t),i.value=""};return{id:n,note:i,switchEditMode:u,editNote:s,deleteNote:l,delete_svg:v.a,edit_svg:N.a,ok_svg:k.a}}};n("3bc0");L.render=D;var V=L,z=Object(o["h"])("p",null,"Not found",-1),A=Object(o["g"])("Главная");function H(t,e,n,c,a,i){var r=Object(o["v"])("router-link");return Object(o["q"])(),Object(o["e"])("div",null,[z,Object(o["h"])(r,{to:{name:"Home"}},{default:Object(o["B"])((function(){return[A]})),_:1})])}var G={};G.render=H;var J=G,T=[{path:"/",name:"Home",component:q},{path:"/:pathMatch(.*)*",name:"NotFound",component:J},{path:"/note/:id",name:"Note",component:V}],F=Object(r["a"])({history:Object(r["b"])(),routes:T}),R=F,$=(n("7db0"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("bc3a")),I=n.n($),K=I.a.create({baseURL:"http://192.168.0.100:3000/api/v1"}),Q=K,W={namespaced:!0,state:function(){return{notes:[]}},mutations:{appendNote:function(t,e){t.notes.unshift(Object.assign(e,{edit_toggle:!1}))},deleteNote:function(t,e){var n=t.notes.map((function(t){return t._id})).indexOf(e);t.notes.splice(n,1)},updateNote:function(t,e,n){var o=t.notes.find((function(t){return t._id===e}));Object.assign(o,n)},clearNotes:function(t){t.notes=[]}},actions:{ajaxGetNotes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.commit("clearNotes"),Q.get("/notes",e).then((function(e){e.data.data.forEach((function(e){t.commit("appendNote",e)}))}))},ajaxCreateNote:function(t,e){Q.post("/notes",{data:e}).then((function(e){t.commit("appendNote",e.data.data)}))},ajaxDeleteNote:function(t,e){Q.post("/notes/delete",{id:e}).then((function(){t.commit("deleteNote",e)}))},ajaxUpdateNote:function(t,e){var n=e.id,o=e.data;Q.post("/notes/update",{id:n,data:o}).then((function(){t.commit("updateNote",n,o)}))}},getters:{allNotes:function(t){return t.notes}}},X=W,Y=n("0e44"),Z=Object(b["a"])({modules:{Note:X},plugins:[Object(Y["a"])()]});Object(o["d"])(i).use(R).use(Z).mount("#app")},"5c72":function(t,e,n){"use strict";n("3bdb")},"653b":function(t,e,n){},6582:function(t,e,n){t.exports=n.p+"img/edit.67ba07a1.svg"},"76a5":function(t,e,n){t.exports=n.p+"img/ok.46e83143.svg"},"92a1":function(t,e,n){"use strict";n("653b")},bb57:function(t,e,n){"use strict";n("de3c")},d739:function(t,e,n){t.exports=n.p+"img/delete.c478b6b2.svg"},de3c:function(t,e,n){},eb8a:function(t,e,n){}});
//# sourceMappingURL=app.06c30960.js.map